#include <stdio.h>
#include <stdlib.h>

int bubbleSort(int* array, int n);

int main(void) {
	int n; //???????????°
	int i; //??????????????°
	int result; //?????????
	int *p; //?????????????????¨???????????????

	scanf("%d", &n);

	p = (int*)malloc(sizeof(int) * n);
	if(p == NULL) {
		printf("Memory Error\n");
		exit(1);
	}

	for(i = 0; i < n; i++) {
		scanf("%d", &p[i]);
	}

	result = bubbleSort(p, n);

	printf("%d", p[0]);
	for(i = 1; i < n; i++) {
		printf(" %d", p[i]);
	}
	printf("\n%d\n", result);

	return 0;
}

int bubbleSort(int* array, int n) {
	int flag = 1; //????????????????????????1
	int i = 0; //??????????????¨?????????????????????????????????
	int j; //??????????????°
	int temp = 0; //???????????°
	int count = 0; //???????????????

	while(flag) {
		flag = 0;
		for(j = n - 1; j > i; j--) {
			if(array[j] < array[j - 1]) {
				temp = array[j];
				array[j] = array[j - 1];
				array[j - 1] = temp;
				flag = 1;
				count++;
			}
		}
		i++;
	}

	return count;
}
