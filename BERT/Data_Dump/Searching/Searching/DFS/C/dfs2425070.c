#include <stdio.h>
#define N 100
#define WHITE 0
#define GRAY  1
#define BLACK 2
void dfs(void);
int dfs_visit(int);
int n,time;
int array[N][N],color[N],d[N],f[N];
int main()
{
  int i,j,v,w,x;
  
  scanf("%d",&n);
  for(i=0;i<n;i++)
    {
      for(j=0;j<N;j++)
	{
	  array[i][j]=0;
	}
    }
  
  for(i=0;i<n;i++)
    {
      scanf("%d%d",&v,&w);
      v--;               //27?????????????¬?????????????????´???????????????????
      for(j=0;j<w;j++)
	{
	  scanf("%d",&x);
	  x--;           //27?????????????¬?????????????????´???????????????????
	  array[v][x]=1; //v??¨x????????????????????????????????¨??§???0???????????????????????? 
	}
    }
  dfs();
  return 0;
}
void dfs(void) //???????????¨??±???????????¢?´¢???????????????????????¨???????????????
{
  int i;

  for(i=0;i<n;i++)
    {
      color[i]=WHITE;
    }
  time=0;
  
  for(i=0;i<n;i++)
    {
      if(color[i]==WHITE) dfs_visit(i);
    }

  for(i=0;i<n;i++)
    {
      printf("%d %d %d\n",i+1,d[i],f[i]);
    }
}
int dfs_visit(int u)
{
  int i;
  color[u]=GRAY;
  d[u]=++time;
  for(i=0;i<n;i++)
    {
      if(array[u][i]==0) continue;
      if(color[i]==WHITE) dfs_visit(i);
    }
  color[u]=BLACK;
  f[u]=++time;
}
